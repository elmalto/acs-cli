<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to Azure Container Service Tools documentation! &mdash; Azure Container Service Tools Documentation 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Azure Container Service Tools Documentation 0.1.1 documentation" href="#" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="toctree-wrapper compound">
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Welcome to Azure Container Service Tools documentation!</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-with-docker-from-release">Running with Docker (from release)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-with-docker-from-source">Running with Docker (from source)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-in-python-from-release">Running in Python (from release)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-in-python-from-source">Running in Python (from source)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#preparation-for-use">Preparation for Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#required-azure-login">REQUIRED: Azure Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-cluster-configuration">OPTIONAL: Cluster Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.cli">acs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.commands.service">acs service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.commands.docker">acs docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.commands.afs">acs afs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.commands.oms">acs oms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-acs.commands.demo">acs demo</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="welcome-to-azure-container-service-tools-documentation">
<h1>Welcome to Azure Container Service Tools documentation!<a class="headerlink" href="#welcome-to-azure-container-service-tools-documentation" title="Permalink to this headline">¶</a></h1>
<p>The ACS CLI is a Python application, as such you should be able to run
it on any platform that has Python 3 installed. Alternatively you can
use it via a Docker container. You also have the choice of running
from or from a relase. If in doubt we recommend running from a
release.</p>
<p>See the appropriate section for your preference below. Once you have
installed the CLI code wkip ahead to the &#8216;Preparation&#8217; section..</p>
<div class="section" id="running-with-docker-from-release">
<h2>Running with Docker (from release)<a class="headerlink" href="#running-with-docker-from-release" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>To run the latest version of the cli::</dt>
<dd>docker run -it rgardler/acs</dd>
</dl>
<p>Now proceed to the &#8216;Preparation&#8217; secion.</p>
</div>
<div class="section" id="running-with-docker-from-source">
<h2>Running with Docker (from source)<a class="headerlink" href="#running-with-docker-from-source" title="Permalink to this headline">¶</a></h2>
<p>Clone the source from the <a class="reference external" href="https://github.com/rgardler/acs-cli">GitHub repository</a>.</p>
<p>If you know Docker already this is the easiest way to run the
ACS CLI. The supplied Dockerfile installs all the necessary
compontents for using the CLI. First build the acs container:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">scripts</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">docker</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Then run it with the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">scripts</span><span class="o">/</span><span class="n">run</span><span class="o">-</span><span class="n">docker</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>This command will first look to see if you have an existing container
available and connect to it if you do. If there is no existing
container then a new one is started which maps the current directory
into the container. Thus you can perform actions such as the
preparation steps below and have them persist over time.</p>
<p>Now proceed to the &#8216;Preparation&#8217; secion.</p>
</div>
<div class="section" id="running-in-python-from-release">
<h2>Running in Python (from release)<a class="headerlink" href="#running-in-python-from-release" title="Permalink to this headline">¶</a></h2>
<p>NOTE: at the time of writing we recommend you use one of the other two
methods that use the source code version of the ACS CLI as we have yet
to make a stable release of the Python packages.</p>
<p>Install the <a class="reference external" href="https://azure.microsoft.com/en-us/documentation/articles/xplat-cli-install/">Azure CLI</a>.</p>
<p>Install Python 3.</p>
<p>Install the cli with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cli</span>
</pre></div>
</div>
<p>Now proceed to the &#8216;Preparation&#8217; section.</p>
</div>
<div class="section" id="running-in-python-from-source">
<h2>Running in Python (from source)<a class="headerlink" href="#running-in-python-from-source" title="Permalink to this headline">¶</a></h2>
<p>Clone the source from the <a class="reference external" href="https://github.com/rgardler/acs-cli">GitHub repository</a>.</p>
<p>See the README.md file in the root of the project directory for
instructions on running from source.</p>
</div>
</div>
<div class="section" id="preparation-for-use">
<h1>Preparation for Use<a class="headerlink" href="#preparation-for-use" title="Permalink to this headline">¶</a></h1>
<div class="section" id="required-azure-login">
<h2>REQUIRED: Azure Login<a class="headerlink" href="#required-azure-login" title="Permalink to this headline">¶</a></h2>
<p>Login to Azure with the azure cli and ensure it is operating in ARM
mode by executing the following commands:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">azure</span> <span class="n">login</span>
<span class="n">azure</span> <span class="n">config</span> <span class="n">mode</span> <span class="n">arm</span>
</pre></div>
</div>
</div>
<div class="section" id="optional-cluster-configuration">
<h2>OPTIONAL: Cluster Configuration<a class="headerlink" href="#optional-cluster-configuration" title="Permalink to this headline">¶</a></h2>
<p>By default the cluster is defined in a config file
<cite>/config/cluster.ini</cite>. If you want to use a different config file use
the <cite>&#8211;config-file=FILE</cite> option.</p>
<p>If the specified file does not exist you will enter an interactive
mode in which you can define your cluster. Note, however, that there
are likely to be more options available in the INI file than in the
interactive command line interface.</p>
<p>To create a conmfiguration file you can start by copying
<cite>config/cluster.ini.tmpl</cite> and editing it accordingly, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">cluster</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">tmpl</span> <span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">cluster</span><span class="o">.</span><span class="n">ini</span>
<span class="n">nano</span> <span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">cluster</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="commands">
<h1>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-acs.cli">
<span id="acs"></span><h2>acs<a class="headerlink" href="#module-acs.cli" title="Permalink to this headline">¶</a></h2>
<p>acs</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>acs [&#8211;config-file=&lt;file&gt;] [&#8211;version] [&#8211;help] &lt;command&gt; [&lt;args&gt;...]</dd>
<dt>Options: </dt>
<dd>-h &#8211;help                           Show this screen.</dd>
<dt>Commands:</dt>
<dd>service    Create and manage Azure Container Service
docker     Send docker commands to the cluster
afs        Add the Azure Files Docker volume driver to each agent
oms        Add or configure Operational Management Suite monitoring</dd>
</dl>
<p>See <cite>acs help &lt;command&gt;</cite> for information on a specific command.</p>
<dl class="docutils">
<dt>Help:</dt>
<dd>For help using this tool please open an issue on the GitHub repository:
<a class="reference external" href="https://github.com/rgardler/acs-scripts">https://github.com/rgardler/acs-scripts</a></dd>
</dl>
</div>
<div class="section" id="module-acs.commands.service">
<span id="acs-service"></span><h2>acs service<a class="headerlink" href="#module-acs.commands.service" title="Permalink to this headline">¶</a></h2>
<p>Create an manage instances of Azure Container Service. The service
configuration is defined in the <cite>cluster.ini</cite> file (or the file
specified in <cite>&#8211;config-file</cite>.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>service &lt;command&gt; [help] [options]</dd>
<dt>Commands:</dt>
<dd>create                create an Azure Container Service
delete                delete an Azure Container Service
scale                 Scale the agent cluster up
show                  display the current service configuration
openTunnel            open an SSH tunnel to the management interface</dd>
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--agents=<var>&lt;number&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>number of agents (currently scale only scale up is supported)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--quiet</span></kbd></td>
<td>don&#8217;t ask the user for input</td></tr>
</tbody>
</table>
</dd>
</dl>
<p>Examples:</p>
<dl class="docutils">
<dt>Make the number of agents in the primary pool 5</dt>
<dd>acs service scale &#8211;agents=5</dd>
<dt>Help:</dt>
<dd>For help using the oms command please open an issue at 
<a class="reference external" href="https://github.com/rgardler/acs-scripts">https://github.com/rgardler/acs-scripts</a></dd>
</dl>
</div>
<div class="section" id="module-acs.commands.docker">
<span id="acs-docker"></span><h2>acs docker<a class="headerlink" href="#module-acs.commands.docker" title="Permalink to this headline">¶</a></h2>
<p>This is essentially a pass-thru command for the Docker CLI. It
executes the provided command string on all agents in an ACS
cluster. It is useful for perfoming actions such as pre-pulling
images.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>docker &lt;docker_cmd&gt; [help]</dd>
<dt>Help:</dt>
<dd>For help using the oms command please open an issue at 
<a class="reference external" href="https://github.com/rgardler/acs-cli">https://github.com/rgardler/acs-cli</a></dd>
</dl>
</div>
<div class="section" id="module-acs.commands.afs">
<span id="acs-afs"></span><h2>acs afs<a class="headerlink" href="#module-acs.commands.afs" title="Permalink to this headline">¶</a></h2>
<p>Azure File System Docker volume driver.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>afs &lt;command&gt; [options]</dd>
<dt>Commands:</dt>
<dd>install               Install the AFS driver on all agents</dd>
<dt>Options:</dt>
<dd><dl class="first last docutils">
<dt>-n &#8211;name=NAME</dt>
<dd>Azure storage account name</dd>
<dt>-k &#8211;key</dt>
<dd>Azure storage account key</dd>
</dl>
</dd>
<dt>Help:</dt>
<dd>For help using the oms command please open an issue at 
<a class="reference external" href="https://github.com/rgardler/acs-scripts">https://github.com/rgardler/acs-scripts</a></dd>
</dl>
</div>
<div class="section" id="module-acs.commands.oms">
<span id="acs-oms"></span><h2>acs oms<a class="headerlink" href="#module-acs.commands.oms" title="Permalink to this headline">¶</a></h2>
<p>Add the
[OMS](<a class="reference external" href="https://blogs.technet.microsoft.com/momteam/2015/11/03/announcing-linux-docker-container-management-with-oms/">https://blogs.technet.microsoft.com/momteam/2015/11/03/announcing-linux-docker-container-management-with-oms/</a>)
monitoring solution to the cluster.</p>
<p>Visit <a class="reference external" href="http://mms.microsoft.com">http://mms.microsoft.com</a> and sign up for a free OMS
account. Then click &#8220;Settings&#8221; and then &#8220;Connected Sources&#8221;. You will
need to copy your Workspace ID and your Workspace Primary Key into
your config file. Finally, run the <cite>install</cite> command to install OMS on
each of your agents (please note that this command restarts the Docker
Engine and thus any containers on it will be stopped).</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>oms &lt;command&gt; [help] [options]</dd>
<dt>Commands:</dt>
<dd>install                Install the OMS monitoring agent on all ACS agents</dd>
</dl>
<p>Options:</p>
<dl class="docutils">
<dt>Help:</dt>
<dd>For help using the oms command please open an issue at 
<a class="reference external" href="https://github.com/rgardler/acs-scripts">https://github.com/rgardler/acs-scripts</a></dd>
</dl>
</div>
<div class="section" id="module-acs.commands.demo">
<span id="acs-demo"></span><h2>acs demo<a class="headerlink" href="#module-acs.commands.demo" title="Permalink to this headline">¶</a></h2>
<p>Configure demo&#8217;s for the user. Wherever possible the process is to be
fully automated but in some cases there are manual steps
involved. These are documented in the commadn output.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>demo &lt;command&gt; [help] [options]</dd>
<dt>Commands:</dt>
<dd>microscaling_services    Demonstrate microscaling of services</dd>
</dl>
<p>Options:</p>
<dl class="docutils">
<dt>Help:</dt>
<dd>For help using the oms command please open an issue at 
<a class="reference external" href="https://github.com/rgardler/acs-scripts">https://github.com/rgardler/acs-scripts</a></dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to Azure Container Service Tools documentation!</a><ul>
<li><a class="reference internal" href="#running-with-docker-from-release">Running with Docker (from release)</a></li>
<li><a class="reference internal" href="#running-with-docker-from-source">Running with Docker (from source)</a></li>
<li><a class="reference internal" href="#running-in-python-from-release">Running in Python (from release)</a></li>
<li><a class="reference internal" href="#running-in-python-from-source">Running in Python (from source)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#preparation-for-use">Preparation for Use</a><ul>
<li><a class="reference internal" href="#required-azure-login">REQUIRED: Azure Login</a></li>
<li><a class="reference internal" href="#optional-cluster-configuration">OPTIONAL: Cluster Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#commands">Commands</a><ul>
<li><a class="reference internal" href="#module-acs.cli">acs</a></li>
<li><a class="reference internal" href="#module-acs.commands.service">acs service</a></li>
<li><a class="reference internal" href="#module-acs.commands.docker">acs docker</a></li>
<li><a class="reference internal" href="#module-acs.commands.afs">acs afs</a></li>
<li><a class="reference internal" href="#module-acs.commands.oms">acs oms</a></li>
<li><a class="reference internal" href="#module-acs.commands.demo">acs demo</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Ross Gardler.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>